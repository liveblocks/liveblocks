---
meta:
  title: "Tenants"
  parentTitle: "Authentication"
  description: "Learn more about tenants"
---

Tenants allows you to compartmentalize Liveblocks resources, such as inbox
notifications, rooms, and everything associated with rooms such as threads, text
editors, Yjs, Storage. Each tenant represents a separate organization or
customer in your system, meaning you can easily add a workspace/org switcher to
your application, with each workspace having its own notification inbox.

<Banner title="Tenants is optional">

If you don’t specify a tenant, no configuration is needed. By default, resources
belong to the `default` tenant ID.

</Banner>

<Figure>
  <Image
    src="/assets/tenants/concept-tenants.png"
    alt="Concept of tenants"
    width={1494}
    height={840}
    quality={100}
  />
</Figure>

### Setting up tenants

To set up Tenants, you just need to set a `tenantId` when creating a resource,
for example, when creating a room.

```ts
const room = await liveblocks.createRoom("my-room-id", {
  // +++
  tenantId: "my-tenant-id",
  // +++
});
```

<Banner title="You can’t change a resource’s tenant" type="warning">

It’s not possible to change a resource’s `tenantId` after creation. You will
need to migrate the resource into a new room in the correct tenant.

</Banner>

#### Resources using tenants

A number of Liveblocksresources use tenants, such as rooms, comments, text
editors, Yjs, Storage, inbox notifications, mention groups.

```ts
const { data: rooms, nextCursor } = await liveblocks.getRooms({
  // +++
  tenantId: "my-tenant-id",
  // +++
});

await liveblocks.triggerInboxNotification({
  userId: "steven@example.com",
  kind: "$fileUploaded",
  subjectId: "my-file",
  activityData: {},
  // +++
  tenantId: "my-tenant-id",
  // +++
});

await liveblocks.deleteAllInboxNotifications({
  userId: "steven@example.com",
  // +++
  tenantId: "my-tenant-id",
  // +++
});

const { data, nextCursor } = await liveblocks.getUserRoomSubscriptionSettings({
  userId: "steven@example.com",
  // +++
  tenantId: "my-tenant-id",
  // +++
});
```

Above you can see [`getRooms`](/docs/api-reference/liveblocks-node#get-rooms),
[`triggerInboxNotification`](/docs/api-reference/liveblocks-node#post-inbox-notifications-trigger),
[`deleteAllInboxNotifications`](/docs/api-reference/liveblocks-node#delete-users-userId-inboxNotifications)
and
[`getUserRoomSubscriptionSettings`](/docs/api-reference/liveblocks-node#get-users-userId-room-subscription-settings)
using tenants. Tenants can also be used with the
[REST API](/docs/api-reference/rest-api-endpoints).

### Authentication

When authorizing a user with Liveblocks, you can specify the tenant they belong
to. Each user is only authorized for one tenant at a time, meaning they need to
re-authenticate to access resources in another tenant, such as notifications.
Tenants can be used with both [Access Token](/docs/authentication/access-token)
and [ID Token](/docs/authentication/id-token) authentication.

#### With access tokens

When using access tokens, you can set the `tenantId` when you prepare a session.
Tokens generated for a specific tenant, will only allow access to resources
inside this tenant, even if the token has permissions to rooms in other tenants.

```ts highlight="2"
const session = liveblocks.prepareSession("olivier@example.com", {
  tenantId: "tenant123",
});

// Giving full access to one room
session.allow("Vu78Rt:design:9Hdu73", session.FULL_ACCESS);

// Give full access to every room with an ID beginning with "Vu78Rt:product:"
session.allow("Vu78Rt:product:*", session.FULL_ACCESS);

const { body, status } = await session.authorize();
```

Learn more about [access tokens](/docs/authentication/access-token).

#### With ID tokens

When using ID tokens, you can set the `tenantId` when using `identifyUser`.
Tokens generated for a specific tenant, will only allow access to resources
inside this tenant, even if the user has access to rooms in other tenants.

```ts highlight="3"
const { body, status } = await liveblocks.identifyUser({
  userId: "olivier@example.com",
  tenantId: "tenant123",
});

// '{ token: "eyJga7..." }'
console.log(body);
```

Learn more about [ID tokens](/docs/authentication/id-token).

#### Switching tenants

The easiest way to switch tenants is to refresh the page, for example with
`location.reload()`, then pass a new `tenantId` to your chosen authentication
method.
