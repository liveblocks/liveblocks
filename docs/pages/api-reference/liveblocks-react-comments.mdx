---
meta:
  title: "@liveblocks/react-comments"
  parentTitle: "API Reference"
  description: "API Reference for the @liveblocks/react-comments package"
alwaysShowAllNavigationLevels: false
---

`@liveblocks/react-comments` provides you with [React](https://react.dev/)
components to build a commenting experience. Read our
[getting started](/docs/get-started/comments) guide to learn more.

<Banner title="Public beta">

Comments is currently in beta. If you have any questions or feedback, please
reach out to us via the dedicated Discord channel,
[#comments-beta](https://discord.com/channels/913109211746009108/1126614905160749097).
We’d love to hear from you.

</Banner>

## Default components [#Components]

### Thread

<Figure>
  <Image
    src="/assets/comments/thread.png"
    alt="Thread"
    width={768}
    height={446}
  />
</Figure>

Displays a thread of comments. Each comment has a composer for creating replies.

```tsx
<Thread thread={thread} />
```

Map through `threads` to render a list of the room’s threads and comments.
Threads can be retrieved with
[`useThreads`](/docs/api-reference/liveblocks-react#useThreads).

```tsx highlight="10"
import { Thread } from "@liveblocks/react-comments";
import { useThreads } from "../liveblocks.config";

function Component() {
  const { threads } = useThreads();

  return (
    <>
      {threads.map((thread) => (
        <Thread key={thread.id} thread={thread} />
      ))}
    </>
  );
}
```

#### Resolved thread metadata

A thread allows you to attach custom metadata to it when using the
[mutation hooks](/docs/api-reference/liveblocks-react#Comments), and when
creating a thread [with the composer](#Adding-thread-metadata). The `Thread`
component automatically adds the `resolved` property to `metadata`, and this
property is used to display a checkbox which denotes whether the thread has been
resolved or not.

```ts
const resolved = thread.metadata.resolved; // true | false
```

If you’d like to use this, make sure to add the `resolved` property to
`ThreadMetadata` in your config file for valid type-checking.

```tsx file="liveblocks.config.ts"
export type ThreadMetadata = {
  resolved: boolean;

  // Custom metadata
  // ...
};
```

#### Props [#thread-props]

<Table columns={["26%", "32%", "42%"]}>

| Prop                      | Type                                                                                 | Description                                                                                                 |
| ------------------------- | ------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------- |
| `thread` <DocsRequired /> | `ThreadData`                                                                         | The thread to display.                                                                                      |
| `showComposer`            | `boolean \| "collapsed"`                                                             | How to show or hide the composer to reply to the thread.<br/>Defaults to `"collapsed"`.                     |
| `showActions`             | `boolean \| "hover"`                                                                 | How to show or hide the actions.<br/>Defaults to `"hover"`.                                                 |
| `showReactions`           | `boolean`                                                                            | Whether to show reactions.<br/>Defaults to `true`.                                                          |
| `showResolveAction`       | `boolean`                                                                            | Whether to show the action to resolve the thread.<br/>Defaults to `true`.                                   |
| `indentCommentContent`    | `boolean`                                                                            | Whether to indent the comments’ content.<br/>Defaults to `true`.                                            |
| `showDeletedComments`     | `boolean`                                                                            | Whether to show deleted comments.<br/>Defaults to `false`.                                                  |
| `onResolvedChange`        | `(resolved: boolean) => void`                                                        | The event handler called when changing the resolved status.                                                 |
| `onThreadDelete`          | `(thread: ThreadData) => void`                                                       | The event handler called when the thread is deleted. A thread is deleted when all its comments are deleted. |
| `onCommentEdit`           | `(comment: CommentData) => void`                                                     | The event handler called when a comment is edited.                                                          |
| `onCommentDelete`         | `(comment: CommentData) => void`                                                     | The event handler called when a comment is deleted.                                                         |
| `onAuthorClick`           | <code>(userId: string, event: MouseEvent&lt;HTMLElement&gt;) => void</code>          | The event handler called when clicking on a comment’s author.                                               |
| `onMentionClick`          | <code>(userId: string, event: MouseEvent&lt;HTMLElement&gt;) => void</code>          | The event handler called when clicking on a mention.                                                        |
| `overrides`               | <code>Partial&lt;ThreadOverrides \& CommentOverrides \& ComposerOverrides&gt;</code> | Override the component’s strings.                                                                           |

</Table>

{/* TODO: Document classes and data attributes */}

### Composer

<Figure>
  <Image
    src="/assets/comments/composer.png"
    alt="Composer"
    width={768}
    height={446}
  />
</Figure>

Displays a composer for creating threads or comments.

```tsx
<Composer />
```

By default, submitting the composer will create a new thread.

```tsx
import { Composer } from "@liveblocks/react-comments";

// Creates a new thread
function Component() {
  return <Composer />;
}
```

#### Adding thread metadata

If you’d like to attach custom metadata to the newly created thread, you can add
a `metadata` prop.

```tsx
import { Composer } from "@liveblocks/react-comments";

// Creates a new thread with custom metadata
function Component() {
  return (
    <Composer
      metadata={{
        // Custom metadata here, e.g. colors, coordinates
        color: "purple",
        x: 80,
        y: 120,
      }}
    />
  );
}
```

##### Typed metadata

Optionally, you can type `metadata` by importing your custom `ThreadMetadata`
type from your config file.

```tsx highlight="2,7"
import { Composer } from "@liveblocks/react-comments";
import { ThreadMetadata } from "../liveblocks.config";

// Creates a new thread with custom metadata
function Component() {
  return (
    <Composer<ThreadMetadata>
      metadata={{
        // Custom metadata with typing
        color: "purple",
      }}
    />
  );
}
```

```tsx file="liveblocks.config.ts"
export type ThreadMetadata = {
  color: string;
};
```

#### Replying to a thread

If you provide a `threadId`, then submitting the composer will add a new reply
to the thread.

```tsx
import { Composer } from "@liveblocks/react-comments";

// Adds a new comment to a thread
function Component({ threadId }) {
  return <Composer threadId={threadId} />;
}
```

#### Modifying a comment

If you provide both a `threadId` and a `commentId`, then submitting the composer
will edit the comment.

```tsx
import { Composer } from "@liveblocks/react-comments";

// Edits an existing comment
function Component({ threadId, commentId }) {
  return <Composer threadId={threadId} commentId={commentId} />;
}
```

#### Custom behavior

If you’d like to customize submission behavior, you can use
`event.preventDefault()` in `onComposerSubmit` to disable the default behavior
and call comment and thread mutation methods manually.

```tsx
import { Composer } from "@liveblocks/react-comments";
import { useEditComment, useAddReaction } from "../liveblocks.config";

// Custom submission behavior (edits a comment and adds a reaction)
function Component({ threadId, commentId }) {
  const editComment = useEditComment();
  const addReaction = useAddReaction();

  return (
    <Composer
      onComposerSubmit={({ body }, event) => {
        event.preventDefault();

        // Example mutations
        editComment({ threadId, commentId, body });
        addReaction({ threadId, commentId, emoji: "✅" });

        // Other custom behavior
        // ...
      }}
    />
  );
}
```

Learn more about mutation hooks under
[`@liveblocks/react`](/docs/api-reference/liveblocks-react#Comments).

#### Props [#composer-props]

<Table columns={["26%", "32%", "42%"]}>

| Prop                | Type                                                                                                                  | Description                                                                                       |
| ------------------- | --------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- |
| `threadId`          | `string`                                                                                                              | The ID of the thread to reply to or to edit a comment in.                                         |
| `commentId`         | `string`                                                                                                              | The ID of the comment to edit.                                                                    |
| `metadata`          | `ThreadMetadata`                                                                                                      | The metadata of the thread to create.                                                             |
| `onComposerSubmit`  | <code>(comment: ComposerSubmitComment, event: FormEvent&lt;HTMLFormElement&gt;) => Promise&lt;void&gt; \| void</code> | The event handler called when the composer is submitted.                                          |
| `defaultValue`      | `CommentBody`                                                                                                         | The composer’s initial value.                                                                     |
| `collapsed`         | `boolean`                                                                                                             | Whether the composer is collapsed. Setting a value will make the composer controlled.             |
| `onCollapsedChange` | `(collapsed: boolean) => void`                                                                                        | The event handler called when the collapsed state of the composer changes.                        |
| `defaultCollapsed`  | `boolean`                                                                                                             | Whether the composer is initially collapsed. Setting a value will make the composer uncontrolled. |
| `disabled`          | `boolean`                                                                                                             | Whether the composer is disabled.                                                                 |
| `autoFocus`         | `boolean`                                                                                                             | Whether to focus the composer on mount.                                                           |
| `overrides`         | <code>Partial&lt;ComposerOverrides&gt;</code>                                                                         | Override the component’s strings.                                                                 |

</Table>

{/* TODO: Document classes and data attributes */}

### Comment

<Figure>
  <Image
    src="/assets/comments/comment.png"
    alt="Comment"
    width={768}
    height={446}
  />
</Figure>

Displays a single comment.

```tsx
<Comment comment={comment} />
```

Map through `thread.comments` to render each comment in a thread. Threads can be
retrieved with [`useThreads`](/docs/api-reference/liveblocks-react#useThreads).

```tsx highlight="9"
import { Comment } from "@liveblocks/react-comments";
import { ThreadData } from "@liveblocks/client";

// Renders a list of comments attach to the specified `thread`
function Component({ thread }: { thread: ThreadData }) {
  return (
    <>
      {thread.comments.map((comment) => (
        <Comment key={comment.id} comment={comment} />
      ))}
    </>
  );
}
```

#### Props [#comment-props]

<Table columns={["26%", "32%", "42%"]}>

| Prop                       | Type                                                                        | Description                                                                                                                           |
| -------------------------- | --------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------- |
| `comment` <DocsRequired /> | `CommentData`                                                               | The comment to display.                                                                                                               |
| `showActions`              | `boolean \| "hover"`                                                        | How to show or hide the actions.<br/>Defaults to `"hover"`.                                                                           |
| `showReactions`            | `boolean`                                                                   | Whether to show reactions.<br/>Defaults to `true`.                                                                                    |
| `indentContent`            | `boolean`                                                                   | Whether to indent the comment’s content.<br/>Defaults to `true`.                                                                      |
| `showDeleted`              | `boolean`                                                                   | Whether to show the comment if it was deleted. If set to `false`, it will render deleted comments as `null`.<br/>Defaults to `false`. |
| `onCommentEdit`            | `(comment: CommentData) => void`                                            | The event handler called when the comment is edited.                                                                                  |
| `onCommentDelete`          | `(comment: CommentData) => void`                                            | The event handler called when the comment is deleted.                                                                                 |
| `onAuthorClick`            | <code>(userId: string, event: MouseEvent&lt;HTMLElement&gt;) => void</code> | The event handler called when clicking on the author.                                                                                 |
| `onMentionClick`           | <code>(userId: string, event: MouseEvent&lt;HTMLElement&gt;) => void</code> | The event handler called when clicking on a mention.                                                                                  |
| `overrides`                | <code>Partial&lt;CommentOverrides \& ComposerOverrides&gt;</code>           | Override the component’s strings.                                                                                                     |

</Table>

{/* TODO: Document classes and data attributes */}

### Styling and customization

#### Default styles

The default components come with default styles. These styles can be imported
into the root of your app or directly into a CSS file with `@import`.

```tsx
import "@liveblocks/react-comments/styles.css";
```

#### Dark mode

You can also import default dark mode styling. There are two versions to choose
from, the first uses the
[system theme](https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme).

```tsx
// Dark mode using the system theme with `prefers-color-scheme`
import "@liveblocks/react-comments/styles/dark/media-query.css";
```

The second uses the `dark` class name, and two commonly used data attributes.

```tsx
// Dark mode using `className="dark"`, `data-theme="dark"`, or `data-dark="true"`
import "@liveblocks/react-comments/styles/dark/attributes.css";
```

{/* TODO: Mention --elevation-background, --elevation-foreground here */}

#### CSS variables

The default components are built around a set of customizable CSS variables. Set
these variables within `.lb-root` to globally style your components.

```css
/* Styles all default Comments components */
.lb-root {
  --lb-accent: purple;
  --lb-spacing: 1em;
  --lb-radius: 0;
}
```

<Table columns={["30%", "28%", "42%"]}>

| CSS variable                         | Default value                                                                        | Description                                                                          |
| ------------------------------------ | ------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------ |
| `--lb-radius`                        | `0.5em`                                                                              | The border radius scale. `em` values recommended.                                    |
| `--lb-spacing`                       | `1em`                                                                                | The spacing scale. `em` values recommended.                                          |
| `--lb-accent`                        | `#1177ff`                                                                            | The accent color.                                                                    |
| `--lb-accent-foreground`             | `#ffffff`                                                                            | The foreground color used over the accent color.                                     |
| `--lb-background`                    | `#ffffff`                                                                            | The main background color.                                                           |
| `--lb-foreground`                    | `#111111`                                                                            | The main foreground color.                                                           |
| `--lb-icon-size`                     | `20px`                                                                               | The size of icons.                                                                   |
| `--lb-icon-weight`                   | `1.5px`                                                                              | The stroke weight of icons.                                                          |
| `--lb-avatar-radius`                 | `50%`                                                                                | The border radius used for avatars.                                                  |
| `--lb-button-radius`                 | `calc(0.75 * var(--lb-radius))`                                                      | The border radius used for buttons.                                                  |
| `--lb-transition-duration`           | `0.1s`                                                                               | The duration used for transitioned elements.                                         |
| `--lb-transition-easing`             | `cubic-bezier(0.4, 0, 0.2, 1)`                                                       | The easing function used for transitioned elements.                                  |
| `--lb-elevation-shadow`              | `0 0 0 1px rgb(0 0 0 / 4%), 0 2px 6px rgb(0 0 0 / 8%),  0 8px 26px rgb(0 0 0 / 12%)` | The box shadow added to elevated elements.                                           |
| `--lb-tooltip-shadow`                | `0 2px 4px rgb(0 0 0 / 8%), 0 4px 12px rgb(0 0 0 / 12%)`                             | The box shadow added to tooltips.                                                    |
| `--lb-elevation-background`          | `var(--lb-background)`                                                               | The background color used for elevated elements.                                     |
| `--lb-elevation-foreground`          | `var(--lb-foreground)`                                                               | The foreground color used for elevated elements.                                     |
| `--lb-tooltip-background`            | `#222222`                                                                            | The background color used for tooltips.                                              |
| `--lb-tooltip-foreground`            | `#ffffff`                                                                            | The foreground color used for tooltips.                                              |
| `--lb-accent-contrast`               | `8%`                                                                                 | Affects the lightness of accent colors. `%` value required.                          |
| `--lb-foreground-contrast`           | `6%`                                                                                 | Affects the lightness of foreground colors. `%` value required.                      |
| `--lb-elevation-foreground-contrast` | `6%`                                                                                 | Affects the lightness of foreground colors in elevated elements. `%` value required. |
| `--lb-tooltip-foreground-contrast`   | `10%`                                                                                | Affects the lightness of foreground colors in tooltips. `%` value required.          |

</Table>

{/* TODO: Explain automatic color scales (with a palette-type visual) */}

#### Class names

Each default component has a set of predefined class names, which can be helpful
for custom styling, for example.

```css
.lb-thread {
  /* Customise thread */
}

.lb-composer {
  /* Customise composer */
}
```

Additionally, some elements also have data attributes to provide contextual
information, for example:

```css
.lb-button[data-variant="primary"] {
  /* Customise primary buttons */
}

.lb-avatar[data-loading] {
  /* Customise avatar loading state */
}
```

<Banner title="Internal classes" type="warning">

Classes containing colons `:` are internal and may change over time.

</Banner>

{/* TODO: Think about adding back the browser support section */}

#### Portaled elements

Floating elements within the default components (e.g. tooltips, drowdowns, etc)
are portaled to the end of the document to avoid `z-index` conflicts and
`overflow` issues.

When portaled, those elements are also wrapped in a container to handle their
positioning. These containers don’t have any specific class names or data
attributes so they shouldn’t be targeted or styled directly, but they will
mirror whichever `z-index` value is set on their inner element (which would be
`auto` by default). So if you need to set a specific `z-index` value on floating
elements, you should set it on the floating elements themselves directly,
ignoring their containers. You can either target specific floating elements
(e.g. `.lb-tooltip`, `.lb-dropdown`, etc) or all of them at once via the
`.lb-portal` class name.

```css
/* Target all floating elements */
.lb-portal {
  z-index: 5;
}

/* Target a specific floating element */
.lb-tooltip {
  z-index: 10;
}
```

#### Overrides

Overrides can be used to customize components’ strings and localization-related
properties, such as locale and reading direction.

They can be set globally for all components using `CommentsConfig`:

```tsx
import { CommentsConfig } from "@liveblocks/react-comments";

export function App() {
  return (
    <CommentsConfig
      overrides={{ locale: "fr", UNKNOWN_USER: "Anonyme" /* ... */ }}
    >
      {/* ... */}
    </CommentsConfig>
  );
}
```

Overrides can also be set per-component, and these settings will take precedence
over global settings. This is particularly useful in certain contexts, for
example when you’re using a `<Composer />` component for creating replies to
threads:

```tsx
<Composer
  overrides={{
    COMPOSER_PLACEHOLDER: "Reply to thread…",
    COMPOSER_SEND: "Reply",
  }}
/>
```

## Primitives

Primitives are unstyled, headless components that can be used to create fully
custom commenting experiences.

<Banner title="Using primitives with TypeScript">

If you run into the
`Cannot find module '@liveblocks/react-comments/primitives' or its corresponding type declarations`
error, you should update your `tsconfig.json`’s `moduleResolution`
[property](https://www.typescriptlang.org/tsconfig#moduleResolution) to
`"node16"` or `"nodenext"` (or `"bundler"` if you’re on TS >=5).

</Banner>

### Composition

All primitives are composable; they forward their props and refs, merge their
classes and styles, and chain their event handlers.

Inspired by [Radix](https://www.radix-ui.com/) (and powered by its
[`Slot`](https://www.radix-ui.com/primitives/docs/utilities/slot) utility), most
of the primitives also support an `asChild` prop to replace the rendered element
by any provided child, and both set of props will be merged.

```tsx
import { Button } from "@/my-design-system";

// Use the default <button> element
<Composer.Submit disabled>Send</Composer.Submit>;

// Use an existing custom <Button> component
<Composer.Submit disabled asChild>
  <Button variant="primary">Send</Button>
</Composer.Submit>;
```

Learn more about this concept on
[Radix’s composition guide](https://www.radix-ui.com/primitives/docs/guides/composition).

### Composer [#primitives-Composer]

Used to render a composer for creating, or editing, threads and comments.

```tsx
<Composer.Form>
  <Composer.Editor
    components={{
      Mention: () => <Composer.Mention />,
      MentionSuggestions: () => (
        <Composer.Suggestions>
          <Composer.SuggestionsList>
            <Composer.SuggestionsListItem />
          </Composer.SuggestionsList>
        </Composer.Suggestions>
      ),
      Link: () => <Composer.Link />,
    }}
  />
  <Composer.Submit />
</Composer.Form>
```

Combine with
[`useCreateThread`](/docs/api-reference/liveblocks-react#useCreateThread) to
render a composer that creates threads.

```tsx highlight="13,21-25,29-38"
import {
  Composer,
  CommentBodyLinkProps,
  CommentBodyMentionProps,
  ComposerEditorMentionSuggestionsProps,
  ComposerSubmitComment,
} from "@liveblocks/react-comments/primitives";
import { useCreateThread, useUser } from "../liveblocks.config.ts";
import { FormEvent } from "react";

// Render a custom composer that creates a thread on submit
function MyComposer() {
  const createThread = useCreateThread();

  function handleComposerSubmit(
    { body }: ComposerSubmitComment,
    event: FormEvent<HTMLFormElement>
  ) {
    event.preventdefault();

    // Create a new thread
    const thread = createThread({
      body,
      metadata: {},
    });
  }

  return (
    <Composer.Form onComposerSubmit={handleComposerSubmit}>
      <Composer.Editor
        components={{
          Mention,
          MentionSuggestions,
          Link,
        }}
      />
      <Composer.Submit>Create thread</Composer.Submit>
    </Composer.Form>
  );
}

// Render a mention in the composer's editor, e.g. "@Emil Joyce"
function Mention({ userId }: CommentBodyMentionProps) {
  return <Comment.Mention>@{userId}</Comment.Mention>;
}

// Render a list of mention suggestions, used after typing "@" in the editor
function MentionSuggestions({
  userIds,
  selectedUserId,
}: ComposerEditorMentionSuggestionsProps) {
  return (
    <Composer.Suggestions>
      <Composer.SuggestionsList>
        {userIds.map((userId) => (
          <MentionSuggestion key={userId} userId={userId} />
        ))}
      </Composer.SuggestionsList>
    </Composer.Suggestions>
  );
}

// Render a single mention suggestion from a `userId`
function MentionSuggestion({ userId }: { userId: string }) {
  const { user } = useUser(userId);

  return (
    <Composer.SuggestionsListItem value={user.id}>
      <img src={user.avatar} alt={user.name} />
      {user.name}
    </Composer.SuggestionsListItem>
  );
}

// Render a link in the composer's editor, e.g. "https://liveblocks.io"
function Link({ href, children }: CommentBodyLinkProps) {
  return <Comment.Link href={href}>{children}</Comment.Link>;
}
```

#### Composer.Form [#primitives-Composer.Form]

Surrounds the composer’s content and handles submissions. By default, no action
occurs when the composer is submitted. You must create your own mutations within
`onComposerSubmit` for
[creating threads](/docs/api-reference/liveblocks-react#useCreateThread),
[creating comments](/docs/api-reference/liveblocks-react#useCreateComment),
[editing comments](/docs/api-reference/liveblocks-react#useEditComment), etc.

```tsx
<Composer.Form onComposerSubmit={({ body }) => {}}>{/* ... */}</Composer.Form>
```

<Table columns={["26%", "32%", "42%"]}>

| Prop               | Type                                                                                                                    | Description                                                                         |
| ------------------ | ----------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------- |
| `onComposerSubmit` | <code>((comment: ComposerSubmitComment, event: FormEvent&lt;HTMLFormElement&gt;) => Promise&lt;void&gt; \| void)</code> | The event handler called when the form is submitted.                                |
| `asChild`          | `boolean`                                                                                                               | Replace the rendered element by the one passed as a child.<br/>Defaults to `false`. |

</Table>

#### Composer.Editor [#primitives-Composer.Editor]

Displays the composer’s editor.

```tsx
<Composer.Editor placeholder="Write a comment…" />
```

<Table columns={["26%", "32%", "42%"]}>

| Prop           | Type                                                 | Description                                               |
| -------------- | ---------------------------------------------------- | --------------------------------------------------------- |
| `defaultValue` | `CommentBody`                                        | The editor’s initial value.                               |
| `placeholder`  | `string`                                             | The text to display when the editor is empty.             |
| `disabled`     | `boolean`                                            | Whether the editor is disabled.                           |
| `autoFocus`    | `boolean`                                            | Whether to focus the editor on mount.                     |
| `dir`          | `"ltr" \| "rtl"`                                     | The reading direction of the editor and related elements. |
| `components`   | <code>Partial&lt;ComposerEditorComponents&gt;</code> | The components displayed within the editor.               |

</Table>

<Table columns={["28%", "auto"]}>

| Attribute       | Value                                   |
| --------------- | --------------------------------------- |
| `data-focused`  | Present when the component is focused.  |
| `data-disabled` | Present when the component is disabled. |

</Table>

##### components [#primitives-Composer.Editor-components]

The components displayed within the editor.

<Table columns={["26%", "32%", "42%"]}>

| Component            | Type                                                                   | Description                                                                                             |
| -------------------- | ---------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------- |
| `Mention`            | <code>ComponentType&lt;ComposerEditorMentionProps&gt;</code>           | The component used to display mentions.<br/>Defaults to the mention’s `userId` prefixed by an @.        |
| `MentionSuggestions` | <code>ComponentType&lt;ComposerEditorMentionSuggestionProps&gt;</code> | The component used to display mention suggestions.<br/>Defaults to a list of the suggestions’ `userId`. |
| `Link`               | <code>ComponentType&lt;ComposerEditorLinkProps&gt;</code>              | The component used to display links.<br/>Defaults to the link’s `children` property.                    |

</Table>

###### Mention [#primitives-Composer.Editor-Mention]

The component used to display mentions.

```tsx
<Composer.Editor
  components={{
    Mention: ({ userId, isSelected }) => (
      <Composer.Mention>@{userId}</Composer.Mention>
    ),
  }}
/>
```

<Table columns={["26%", "32%", "42%"]}>

| Prop         | Type      | Description                      |
| ------------ | --------- | -------------------------------- |
| `userId`     | `string`  | The mention’s user ID.           |
| `isSelected` | `boolean` | Whether the mention is selected. |

</Table>

###### MentionSuggestions [#primitives-Composer.Editor-MentionSuggestions]

The component used to display mention suggestions.

<Table columns={["26%", "32%", "42%"]}>

| Prop             | Type       | Description                     |
| ---------------- | ---------- | ------------------------------- |
| `userIds`        | `string[]` | The list of suggested user IDs. |
| `selectedUserId` | `string`   | The currently selected user ID. |

</Table>

```tsx
<Composer.Editor
  components={{
    MentionSuggestions: () => (
      <Composer.Suggestions>
        <Composer.SuggestionsList>
          <Composer.SuggestionsListItem />
        </Composer.SuggestionsList>
      </Composer.Suggestions>
    ),
  }}
/>
```

###### Link [#primitives-Composer.Editor-Link]

The component used to display links.

```tsx
<Composer.Editor
  components={{
    Link: ({ href, children }) => <Composer.Link>{children}</Composer.Link>,
  }}
/>
```

<Table columns={["26%", "32%", "42%"]}>

| Prop       | Type        | Description              |
| ---------- | ----------- | ------------------------ |
| `href`     | `string`    | The link’s absolute URL. |
| `children` | `ReactNode` | The link’s content.      |

</Table>

#### Composer.Mention [#primitives-Composer.Mention]

Displays mentions within `Composer.Editor`.

```tsx
<Composer.Mention>@{userId}</Composer.Mention>
```

<Table columns={["26%", "32%", "42%"]}>

| Prop      | Type      | Description                                                                         |
| --------- | --------- | ----------------------------------------------------------------------------------- |
| `asChild` | `boolean` | Replace the rendered element by the one passed as a child.<br/>Defaults to `false`. |

</Table>

<Table columns={["28%", "auto"]}>

| Attribute       | Value                                 |
| --------------- | ------------------------------------- |
| `data-selected` | Present when the mention is selected. |

</Table>

#### Composer.Suggestions [#primitives-Composer.Suggestions]

Contains suggestions within `Composer.Editor`.

```tsx
<Composer.Suggestions>{/* … */}<Composer.Suggestions>
```

<Table columns={["26%", "32%", "42%"]}>

| Prop      | Type      | Description                                                                         |
| --------- | --------- | ----------------------------------------------------------------------------------- |
| `asChild` | `boolean` | Replace the rendered element by the one passed as a child.<br/>Defaults to `false`. |

</Table>

#### Composer.SuggestionsList [#primitives-Composer.SuggestionsList]

Displays a list of suggestions within `Composer.Editor`.

```tsx
<Composer.SuggestionsList>
  {userIds.map((userId) => (
    <Composer.SuggestionsListItem key={userId} value={userId}>
      @{userId}
    </Composer.SuggestionsListItem>
  ))}
</Composer.SuggestionsList>
```

<Table columns={["26%", "32%", "42%"]}>

| Prop      | Type      | Description                                                                         |
| --------- | --------- | ----------------------------------------------------------------------------------- |
| `asChild` | `boolean` | Replace the rendered element by the one passed as a child.<br/>Defaults to `false`. |

</Table>

#### Composer.SuggestionsListItem [#primitives-Composer.SuggestionsListItem]

Displays a suggestion within `Composer.SuggestionsList`.

```tsx
<Composer.SuggestionsListItem key={userId} value={userId}>
  @{userId}
</Composer.SuggestionsListItem>
```

<Table columns={["26%", "32%", "42%"]}>

| Prop                     | Type      | Description                                                                         |
| ------------------------ | --------- | ----------------------------------------------------------------------------------- |
| `value` <DocsRequired /> | `string`  | The suggestion’s value.                                                             |
| `asChild`                | `boolean` | Replace the rendered element by the one passed as a child.<br/>Defaults to `false`. |

</Table>

<Table columns={["28%", "auto"]}>

| Attribute       | Value                              |
| --------------- | ---------------------------------- |
| `data-selected` | Present when the item is selected. |

</Table>

#### Composer.Link [#primitives-Composer.Link]

Displays links within `Composer.Editor`.

```tsx
<Composer.Link href={href}>{children}</Composer.Link>
```

<Table columns={["26%", "32%", "42%"]}>

| Prop      | Type      | Description                                                                         |
| --------- | --------- | ----------------------------------------------------------------------------------- |
| `asChild` | `boolean` | Replace the rendered element by the one passed as a child.<br/>Defaults to `false`. |

</Table>

#### Composer.Submit [#primitives-Composer.Submit]

A button to submit the composer.

```tsx
<Composer.Submit>Send</Composer.Submit>
```

<Table columns={["26%", "32%", "42%"]}>

| Prop      | Type      | Description                                                                         |
| --------- | --------- | ----------------------------------------------------------------------------------- |
| `asChild` | `boolean` | Replace the rendered element by the one passed as a child.<br/>Defaults to `false`. |

</Table>

### Comment [#primitives-Comment]

Used to render a single comment.

```tsx
<Comment.Body
  components={{
    Mention: <Comment.Mention />,
    Link: <Comment.Link />,
  }}
/>
```

Map through `thread.comments` to render each comment in a thread. Threads can be
retrieved with [`useThreads`](/docs/api-reference/liveblocks-react#useThreads).

```tsx highlight="13-20"
import {
  Comment,
  CommentBodyLinkProps,
  CommentBodyMentionProps,
} from "@liveblocks/react-comments/primitives";
import { ThreadData } from "@liveblocks/client";

// Render custom comments in a thread. Pass a thread from `useThreads`.
function MyComments({ thread }: { thread: ThreadData }) {
  return (
    <>
      {thread.comments.map((comment) => (
        <Comment.Body
          key={comment.id}
          body={comment.body}
          components={{
            Mention,
            Link,
          }}
        />
      ))}
    </>
  );
}

// Render a mention in the comment, e.g. "@Emil Joyce"
function Mention({ userId }: CommentBodyMentionProps) {
  return <Comment.Mention>@{userId}</Comment.Mention>;
}

// Render a link in the comment, e.g. "https://liveblocks.io"
function Link({ href, children }: CommentBodyLinkProps) {
  return <Comment.Link href={href}>{children}</Comment.Link>;
}
```

#### Comment.Body [#primitives-Comment.Body]

Displays a comment body.

```tsx
<Comment.Body body={comment.body} />
```

<Table columns={["26%", "32%", "42%"]}>

| Prop         | Type                                              | Description                                                                         |
| ------------ | ------------------------------------------------- | ----------------------------------------------------------------------------------- |
| `body`       | `CommentBody`                                     | The comment body to display. If not defined, the component will render `null`.      |
| `components` | <code>Partial&lt;CommentBodyComponents&gt;</code> | The components displayed within the comment body.                                   |
| `asChild`    | `boolean`                                         | Replace the rendered element by the one passed as a child.<br/>Defaults to `false`. |

</Table>

##### components [#primitives-Comment.Body-components]

The components displayed within the comment body.

<Table columns={["26%", "32%", "42%"]}>

| Component | Type                                                      | Description                                                                                      |
| --------- | --------------------------------------------------------- | ------------------------------------------------------------------------------------------------ |
| `Mention` | <code>ComponentType&lt;CommentBodyMentionProps&gt;</code> | The component used to display mentions.<br/>Defaults to the mention’s `userId` prefixed by an @. |
| `Link`    | <code>ComponentType&lt;CommentBodyLinkProps&gt;</code>    | The component used to display links.<br/>Defaults to the link’s `children` property.             |

</Table>

###### Mention [#primitives-Comment.Body-Mention]

The component used to display mentions.

```tsx
<Comment.Body
  components={{
    Mention: ({ userId }) => <Comment.Mention>@{userId}</Comment.Mention>,
  }}
/>
```

<Table columns={["26%", "32%", "42%"]}>

| Prop     | Type     | Description            |
| -------- | -------- | ---------------------- |
| `userId` | `string` | The mention’s user ID. |

</Table>

###### Link [#primitives-Comment.Body-Link]

The component used to display links.

```tsx
<Comment.Body
  components={{
    Link: ({ href, children }) => (
      <Comment.Link href={href}>{children}</Comment.Link>
    ),
  }}
/>
```

<Table columns={["26%", "32%", "42%"]}>

| Prop       | Type        | Description              |
| ---------- | ----------- | ------------------------ |
| `href`     | `string`    | The link’s absolute URL. |
| `children` | `ReactNode` | The link’s content.      |

</Table>

#### Comment.Mention [#primitives-Comment.Mention]

Displays mentions within `Comment.Body`.

```tsx
<Comment.Mention>@{userId}</Comment.Mention>
```

<Table columns={["26%", "32%", "42%"]}>

| Prop      | Type      | Description                                                                         |
| --------- | --------- | ----------------------------------------------------------------------------------- |
| `asChild` | `boolean` | Replace the rendered element by the one passed as a child.<br/>Defaults to `false`. |

</Table>

#### Comment.Link [#primitives-Comment.Link]

Displays links within `Comment.Body`.

```tsx
<Comment.Link href={href}>{children}</Comment.Link>
```

<Table columns={["26%", "32%", "42%"]}>

| Prop      | Type      | Description                                                                         |
| --------- | --------- | ----------------------------------------------------------------------------------- |
| `asChild` | `boolean` | Replace the rendered element by the one passed as a child.<br/>Defaults to `false`. |

</Table>

### Timestamp [#primitives-Timestamp]

Displays a formatted date, and automatically re-renders to support relative
formatting. Defaults to relative formatting for recent dates (e.g. “5 minutes
ago”) and a short absolute formatting for older ones (e.g. “25 Aug”).

```tsx
<Timestamp date={new Date()} />
```

Use with `comment.createdAt`, `comment.editedAt`, or `comment.deletedAt` to
display a human-readable time.

```tsx highlight="8"
import { ThreadData, Timestamp } from "@liveblocks/react-comments";

function MyComments({ thread }: { thread: ThreadData }) {
  return (
    <>
      {thread.comments.map((comment) => (
        <div key={comment.id}>
          <Timestamp date={comment.createdAt} />
          <Comment.Body body={comment.body} components={/* ... */} />
        </div>
      ))}
    </>
  );
}
```

<Table columns={["26%", "32%", "42%"]}>

| Prop                    | Type                                 | Description                                                                                                                                 |
| ----------------------- | ------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------- |
| `date` <DocsRequired /> | `Date \| string \| number`           | The date to display.                                                                                                                        |
| `children`              | `(date: Date) => ReactNode`          | A function to format the displayed date.<br/>Defaults to a relative date formatting function.                                               |
| `title`                 | `string \| ((date: Date) => string)` | The `title` attribute’s value or a function to format it.<br/>Defaults to an absolute date formatting function.                             |
| `interval`              | `number \| false`                    | The interval in milliseconds at which the component will re-render. Can be set to `false` to disable re-rendering.<br/>Defaults to `30000`. |
| `locale`                | `string`                             | The locale used when formatting the date.<br/>Defaults to the browser’s locale.                                                             |
| `asChild`               | `boolean`                            | Replace the rendered element by the one passed as a child.<br/>Defaults to `false`.                                                         |

</Table>

## Hooks

### useComposer

Returns states and methods related to the composer. Can only be used within
`Composer.Form`.

```tsx
import { useComposer } from "@liveblocks/react-comments/primitives";

const { isEmpty, submit } = useComposer();
```

### Other hooks

Other Comments hooks are part of
[`@liveblocks/react`](/docs/api-reference/liveblocks-react), you can find them
on the
[React API reference page](/docs/api-reference/liveblocks-react#Comments).

- [`useThreads`](/docs/api-reference/liveblocks-react#useThreads)
- [`useUser`](/docs/api-reference/liveblocks-react#useUser)
- [`useCreateThread`](/docs/api-reference/liveblocks-react#useCreateThread)
- [`useEditThreadMetadata`](/docs/api-reference/liveblocks-react#useEditThreadMetadata)
- [`useCreateComment`](/docs/api-reference/liveblocks-react#useCreateComment)
- [`useEditComment`](/docs/api-reference/liveblocks-react#useEditComment)
- [`useDeleteComment`](/docs/api-reference/liveblocks-react#useDeleteComment)
- [`useAddReaction`](/docs/api-reference/liveblocks-react#useAddReaction)
- [`useRemoveReaction`](/docs/api-reference/liveblocks-react#useRemoveReaction)
